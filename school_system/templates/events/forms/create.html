{% extends "base.html" %}
{% load static %}
{% block title %}{{ form.instance.id|yesno:"Edit Event,Create Event" }}{% endblock %}

{% block content %}
{% include "events/navbar.html" with page="create_event" %}

<div class="container mt-4">
    <h1 class="mb-4">{{ form.instance.id|yesno:"Edit Event,Create Event" }}</h1>

    <form method="post" novalidate>
        {% csrf_token %}

        <!-- Title -->
        <div class="mb-3">
            <label class="form-label" for="{{ form.title.id_for_label }}">Title</label>
            {{ form.title }}
            {% for error in form.title.errors %}
                <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Event Type -->
        <div class="mb-3">
            <label class="form-label" for="{{ form.event_type.id_for_label }}">Event Type</label>
            {{ form.event_type }}
            {% for error in form.event_type.errors %}
                <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Description -->
        <div class="mb-3">
            <label class="form-label" for="{{ form.description.id_for_label }}">Description</label>
            {{ form.description }}
            {% for error in form.description.errors %}
                <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Start Date -->
        <div class="mb-3">
            <label class="form-label" for="{{ form.start_date.id_for_label }}">Start Date</label>
            {{ form.start_date }}
            {% for error in form.start_date.errors %}
                <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- End Date -->
        <div class="mb-3">
            <label class="form-label" for="{{ form.end_date.id_for_label }}">End Date</label>
            {{ form.end_date }}
            {% for error in form.end_date.errors %}
                <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Location -->
        <div class="mb-3">
            <label class="form-label" for="{{ form.location.id_for_label }}">Location</label>
            {{ form.location }}
            {% for error in form.location.errors %}
                <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Participants -->
        <div class="mb-3">
            <label class="form-label">Participants</label>
            <div class="form-check">
                {{ form.participants }}
            </div>
            {% if form.participants.help_text %}
                <div class="form-text">{{ form.participants.help_text }}</div>
            {% endif %}
            {% for error in form.participants.errors %}
                <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Tasks -->
        <div class="mb-3">
            <label class="form-label">Tasks</label>
            <div class="form-check">
                {{ form.tasks }}
            </div>
            {% for error in form.tasks.errors %}
                <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Buttons -->
        <button type="submit" class="btn btn-success">{{ form.instance.id|yesno:"Update,Create" }}</button>
        <a href="{% url 'events' %}" class="btn btn-secondary">Back</a>
    </form>
</div>
{% endblock %}
